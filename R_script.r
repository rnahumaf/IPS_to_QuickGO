library('rvest')

# IPS website root
page1="https://www.ebi.ac.uk/interpro/entry/"

# Create a matrix scaffold
df1 <- matrix(ncol=1)
df1 <- NULL

# List of IPR IDs
IPS <- c("IPR013087", "IPR004244", "IPR001680", "IPR000504", "IPR013098", "IPR003961", "IPR018247", "IPR013032", "IPR000719", "IPR035300", "IPR008160", "IPR002048", "IPR001611", "IPR019775", "IPR001781", "IPR001452", "IPR001806", "IPR000436", "IPR008271", "IPR018502", "IPR000152", "IPR017868", "IPR018108", "IPR020683", "IPR000900", "IPR001245", "IPR001881", "IPR006652", "IPR000884", "IPR039938", "IPR000276", "IPR018252", "IPR000477", "IPR018097", "IPR017114", "IPR004827", "IPR013544", "IPR001254", "IPR013126", "IPR023796", "IPR000215", "IPR001849", "IPR001650", "IPR002017", "IPR017441", "IPR004088", "IPR001128", "IPR000608", "IPR001101", "IPR000225", "IPR023795", "IPR001007", "IPR023566", "IPR001664", "IPR004000", "IPR018181", "IPR000421", "IPR001715", "IPR000742", "IPR001841", "IPR000626", "IPR000217", "IPR012510", "IPR000536", "IPR003959", "IPR001394", "IPR040062", "IPR003367", "IPR023313", "IPR018487", "IPR035301", "IPR003877", "IPR002347", "IPR008266", "IPR018316", "IPR001478", "IPR000569", "IPR001353", "IPR033116", "IPR017907", "IPR013766", "IPR002350", "IPR011598", "IPR001623", "IPR019734", "IPR011545", "IPR039008", "IPR002035", "IPR001496", "IPR000859", "IPR000980", "IPR015940", "IPR003439", "IPR007123", "IPR003008", "IPR018200", "IPR000083", "IPR001356", "IPR003597", "IPR002194", "IPR001147", "IPR001190", "IPR002164", "IPR018039", "IPR000426", "IPR018114", "IPR000210", "IPR004241", "IPR000308", "IPR020849", "IPR017975", "IPR002659", "IPR000557", "IPR000118", "IPR000716", "IPR001304", "IPR000566", "IPR005135", "IPR009071", "IPR003960", "IPR020904", "IPR016130", "IPR024936", "IPR023409", "IPR001404", "IPR001179", "IPR000242", "IPR000008", "IPR000133", "IPR002087", "IPR017972", "IPR002423", "IPR018499", "IPR001487", "IPR002126", "IPR002554", "IPR002213", "IPR030564", "IPR001791", "IPR019786", "IPR017937", "IPR013787", "IPR000164", "IPR017970", "IPR000033", "IPR006689", "IPR017990", "IPR001751", "IPR011701", "IPR001019", "IPR006214", "IPR000644", "IPR000198", "IPR001163", "IPR026625", "IPR001909", "IPR000182", "IPR015590", "IPR039358", "IPR018184", "IPR006089", "IPR009075", "IPR005123", "IPR000738", "IPR027640", "IPR003006", "IPR002181", "IPR007125", "IPR019787", "IPR000571", "IPR000873", "IPR001876", "IPR001222", "IPR018105", "IPR008661", "IPR014034", "IPR000956", "IPR001878", "IPR000648")

length(IPS) # Check length. Here, length = 179.

for(i in 1:179){
  print(i)
  
  InterPro=read_html(paste0(page1, IPS[i]))
  
  GOTerms <- InterPro %>% 
    html_nodes(".goSections .ext") %>%
    html_text()
  df1 <- rbind(df1, GOTerms)
}

print(df1)  

write.csv(df1, "GOTerms.csv")
# Use this list to search for Gene Ontology using  "https://www.ebi.ac.uk/QuickGO/slimming"
# Paste into the "Input your own" tab
